!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){var n=function(){const e=["Lunch","Short break"],t=[0,15,30,45];let n=15,r=[];const o=(e,t="2015-12-14")=>(async e=>{if(r.length>0)return r;const t=await fetch("https://cors-anywhere.herokuapp.com/http://pizzacabininc.azurewebsites.net/PizzaCabinInc.svc/schedule/"+e),n=await t.json();return r=n.ScheduleResult.Schedules,r})(t).then(t=>s(t).filter(t=>t.team.length>=e)).catch(e=>console.error(e)),s=r=>{console.log(n);const o=r.reduce((r,o)=>(o.IsFullDayAbsence||o.Projection.forEach(s=>{if(!e.includes(s.Description)){const e=new Date(a(s.Start)),u=new Date(e.getTime()),l=c(u.getMinutes(),n);for(u.setMinutes(l),i=1;i<=s.minutes/n;i++)t.includes(u.getMinutes())&&(r[u]?r[u].team.push(o):r[u]={time:new Date(u.getTime()),team:[o]}),u.setMinutes(u.getMinutes()+n)}}),r),[]);return Object.values(o)},a=e=>parseInt(RegExp(/(\d+)/).exec(e)[0]),c=(e,t)=>{return(n=e)%(r=t)?n+(r-n%r):n;var n,r};return{getAvailableTimeSlots:o,displayAvailableTimeSlots:(e,t,r)=>{r.innerHTML="",n=e,o(t).then(e=>{e.map(e=>{const t=document.createElement("meeting-slot");t.timeSlot=e,r.appendChild(t)})})}}}();e.exports=n},function(e,t,n){"use strict";n.r(t);n(2);var r=n(0),i=n.n(r);!function(){window.addEventListener("load",()=>{document.querySelector("button#bt_search").addEventListener("click",t),e(15,5)});const e=function(e,t){const n=document.querySelector(".main");i.a.displayAvailableTimeSlots(e,t,n)},t=function(){const t=parseInt(document.querySelector("#min_number_experts").value),n=parseInt(document.querySelector("#duration").value);e(n,t)}}()},function(e,t){class n extends HTMLElement{constructor(){super(),this._addEvents()}set timeSlot(e){this._timeSlot=e,this._render()}get timeSlot(){return this._timeSlot}_formatDate(e){const t=e=>e<10?"0"+e:e;return t(e.getHours())+":"+t(e.getMinutes())}_render(){const e=document.createElement("div");e.className=".expert",e.innerHTML=`\n            <div class='card'>\n                <div><b>${this._formatDate(this._timeSlot.time)} -  (${this._timeSlot.team.length}) </b></div>       \n                <div class='team show'>\n                    ${this._timeSlot.team.map(e=>`<div>${e.Name}</div>`).join("")}\n                </div>\n            </div>\n            `,this.appendChild(e)}_addEvents(){this.addEventListener("mouseenter",e=>{this.querySelector(".team").classList.toggle("show")}),this.addEventListener("mouseleave",e=>{this.querySelector(".team").classList.toggle("show")})}}customElements.define("meeting-slot",n)}]);