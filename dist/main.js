!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){class n extends HTMLElement{constructor(){super(),this._addEvents()}set timeSlot(e){this._timeSlot=e,this._render()}get timeSlot(){return this._timeSlot}_formatDate(e){const t=e=>e<10?"0"+e:e;return t(e.getHours())+":"+t(e.getMinutes())}_render(){const e=document.createElement("div");e.className=".expert",e.innerHTML=`\n            <div class='card'>\n                <div><b>${this._formatDate(this._timeSlot.time)} -  (${this._timeSlot.team.length}) </b></div>       \n                <div class='team show'>\n                    ${this._timeSlot.team.map(e=>`<div>${e.Name}</div>`).join("")}\n                </div>\n            </div>\n            `,this.appendChild(e)}_addEvents(){this.addEventListener("mouseenter",e=>{this.querySelector(".team").classList.toggle("show")}),this.addEventListener("mouseleave",e=>{this.querySelector(".team").classList.toggle("show")})}}customElements.define("meeting-slot",n)},function(e,t,n){"use strict";n.r(t);n(0);const r=["Lunch","Short break"],o=[0,15,30,45];let s=15,i=[];const c=e=>parseInt(RegExp(/(\d+)/).exec(e)[0]),u=(e,t)=>{return(n=e)%(r=t)?n+(r-n%r):n;var n,r},a=e=>!r.includes(e),l=e=>o.includes(e),d=(e,t="2015-12-14")=>(async e=>{if(i.length>0)return i;const t=await fetch("./../src/mock-data/pizza_experts.json?"+e),n=await t.json();return i=n.ScheduleResult.Schedules,i})(t).then(t=>(e=>{const t=e.reduce((e,t)=>(t.IsFullDayAbsence||t.Projection.forEach(n=>{if(a(n.Description)){const r=new Date(c(n.Start)),o=new Date(r.getTime()),i=u(o.getMinutes(),s);o.setMinutes(i);for(let r=1;r<=n.minutes/s;r++){const{Name:n,PersonId:r}=t;l(o.getMinutes())&&(e[o]?e[o].team.push({Name:n,PersonId:r}):e[o]={time:o,team:[{Name:n,PersonId:r}]}),o.setMinutes(o.getMinutes()+s)}}}),e),[]);return Object.values(t)})(t).filter(t=>t.team.length>=e)).catch(e=>console.error(e));let m=15,f=1;window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main");p(m,f,e),document.querySelector("button#bt_search").addEventListener("click",(function(){f=parseInt(document.querySelector("#min_number_experts").value),m=parseInt(document.querySelector("#duration").value),p(m,f,e)}))});const p=(e,t,n)=>{n.innerHTML="";const r=document.createDocumentFragment();s=e,d(t).then(e=>{e.map(e=>{const t=document.createElement("meeting-slot");t.timeSlot=e,r.appendChild(t)}),n.appendChild(r)})}}]);